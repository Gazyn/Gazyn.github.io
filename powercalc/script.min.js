document.addEventListener("DOMContentLoaded",function(e){var o=["K","M","B","T","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","ba","bb","bc","bd","be","bf","bg","bh","bi","bj","bk","bl","bm","bn","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz"],n={tier1:{bonus:2.5,base:0},tier2:{bonus:2.2,base:3e3},tier3:{bonus:1.804,base:11460},tier4:{bonus:1.37104,base:32709.6},tier5:{bonus:.959728,base:172896.72},tier6:{bonus:.5758368,base:503738.032},tier7:{bonus:.34550208,base:4302242.8192},tier8:{bonus:.207301248,base:42581345.6915}},l={tier1:{bonus:5,base:0},tier2:{bonus:4.4,base:3e3},tier3:{bonus:3.63,base:10725},tier4:{bonus:2.7951,base:31258.25},tier5:{bonus:1.9984965,base:159849.64875},tier6:{bonus:1.259052795,base:470705.278713},tier7:{bonus:.8057937888,base:3901251.62838},tier8:{bonus:.52376596272,base:37535813.5584}},r={tier1:{bonus:5.5,base:0},tier2:{bonus:4.84,base:3e3},tier3:{bonus:3.993,base:10725},tier4:{bonus:3.07461,base:31258.25},tier5:{bonus:2.19834615,base:159849.64875},tier6:{bonus:1.3849580745,base:470705.278713},tier7:{bonus:.88637316768,base:3901251.62838},tier8:{bonus:.576142558992,base:37535813.5584}},i=!1;function f(e){e=parseInt(e);var t=o[Math.floor(Math.floor(Math.log(e)/Math.log(10))/3)-1],a=(e/Math.pow(10,3*(o.indexOf(t)+1))).toFixed(3),n=a.toString().indexOf(".");if(1e3<=e){for(var l="",r=0;r<a.toString().length;r++)l+=r==n?t:a[r];1e6<=e&&(l+=o[o.indexOf(t)-1])}else l=e;return l}function s(){var e=(baseattackinput.value/100+1)*function(){70<input1.value&&(input1.value=70);var e=10*input1.value+input1.value*(input1.value-1),t=e-(2*(input1.value-1)+10);return eff1.textContent="Effect: "+Math.floor(e)+"%",1<input1.value?(lasteff1.textContent="Last level's effect: "+Math.floor(t)+"%",rel1.textContent="Relative increase from last level: "+(100*(e/t-1)).toPrecision(3)+"%"):(lasteff1.textContent="Last level's effect: N/A",rel1.textContent="Relative increase from last level: N/A"),e/100+1}()*function(){30<input2.value&&(input2.value=30);var e=10*input2.value+input2.value*(input2.value-1),t=e-(2*(input2.value-1)+10);return eff2.textContent="Effect: "+Math.floor(e)+"%",1<input2.value?(lasteff2.textContent="Last level's effect: "+Math.floor(t)+"%",rel2.textContent="Relative increase from last level: "+(100*(e/t-1)).toPrecision(3)+"%"):(lasteff2.textContent="Last level's effect: N/A",rel2.textContent="Relative increase from last level: N/A"),e/100+1}()*function(){45<input3.value&&(input3.value=45);var e=input3.value,t=e,a=1;if(45<=t?a=.35:20<t?(a-=.4,a-=.01*(t-=20)):a-=.02*t,t=0,e<=20)var n=a+.02;else n=a+.01;var l=100-(100*a).toPrecision(3),r=100-(100*n).toPrecision(3),o=(n/a*100-100).toPrecision(3);return eff3.textContent="Effect: -"+Math.round(l)+"%",1<e?(lasteff3.textContent="Last level's Effect: -"+Math.round(r)+"%",rel3.textContent="Relative increase from last level: "+o+"%"):(lasteff3.textContent="Last level's Effect: N/A",rel3.textContent="Relative increase from last level: N/A"),1/a}()*function(){105<input4.value&&(input4.value=105);var e=input4.value,t=e,a=1;if(105<=t?(a=.125,t=0):75<t?(a-=.8,a-=.0025*(t-=75),t=0):45<t?(a-=.65,a-=.005*(t-=45),t=0):20<t?(a-=.4,a-=.01*(t-=20),t=0):t<=20&&(a-=.02*t,t=0),75<e)var n=a+.0025;else n=45<e?a+.005:20<e?a+.01:a+.02;var l=100-Math.floor(1e4*a)/100,r=100-Math.floor(1e4*n)/100,o=Math.floor(n/a*1e4-1e4)/100;return eff4.textContent="Effect: -"+Math.floor(20*l)/20+"%",1<e?(lasteff4.textContent="Last level's Effect: -"+Math.floor(20*r)/20+"%",rel4.textContent="Relative increase from last level: "+o+"%"):(lasteff4.textContent="Last level's Effect: N/A",rel4.textContent="Relative increase from last level: N/A"),1/a}()*function(){var e=input6.value,t=e,a=0;if(100<=t?(a+=1e3,a+=5*(t-=100)):a+=10*t,t=0,100<e)var n=a-5;else n=a-10;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff6.textContent=1==i?"Effect: "+f(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff6.textContent=1==i?"Last level's Effect: "+f(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel6.textContent="Relative increase from last level: "+o+"%"):(lasteff6.textContent="Last level's Effect: N/A",rel6.textContent="Relative increase from last level: N/A"),a/100+1}()*function(){var e=input8.value,t=e,a=0;if(100<=t?(a+=1e3,a+=5*(t-=100)):a+=10*t,t=0,100<e)var n=a-5;else n=a-10;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff8.textContent=1==i?"Effect: "+f(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff8.textContent=1==i?"Last level's Effect: "+f(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel8.textContent="Relative increase from last level: "+o+"%"):(lasteff8.textContent="Last level's Effect: N/A",rel8.textContent="Relative increase from last level: N/A"),a/100+1}()*function(){var e=input7.value,t=e,a=0;if(500<=t?(a+=5e3,a+=2*(t-=500)):a+=10*t,t=0,500<e)var n=a-2;else n=a-10;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff7.textContent=1==i?"Effect: "+f(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff7.textContent=1==i?"Last level's Effect: "+f(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel7.textContent="Relative increase from last level: "+o+"%"):(lasteff7.textContent="Last level's Effect: N/A",rel7.textContent="Relative increase from last level: N/A"),a/100+1}()*function(){var e=input5.value,t=e,a=0;if(200<=t?(a+=3e3,a+=10*(t-=200)):a+=15*t,t=0,200<e)var n=a-10;else n=a-15;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff5.textContent=1==i?"Effect: "+f(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff5.textContent=1==i?"Last level's Effect: "+f(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel5.textContent="Relative increase from last level: "+o+"%"):(lasteff5.textContent="Last level's Effect: N/A",rel5.textContent="Relative increase from last level: N/A"),a/100+1}()*function(){600<input9.value&&(input9.value=600);var e=input9.value,t=e,a=0;if(600==t?a=28:200<t?(a+=20,a+=.02*(t-=200)):a+=.1*t,t=0,200<e)var n=a-.02;else n=a-.1;var l=Math.round(100*a),r=Math.round(100*n),o=(a/n*100-100).toPrecision(3);return eff9.textContent="Effect: "+Math.round(l)+"%",1<e?(lasteff9.textContent="Last level's Effect: "+Math.round(r)+"%",rel9.textContent="Relative increase from last level: "+o+"%"):(lasteff9.textContent="Last level's Effect: N/A",rel9.textContent="Relative increase from last level: N/A"),a+1}()*function(){300<input10.value&&(input10.value=300);var e=input10.value,t=e,a=0;if(300==t?(a=9,t=0):100<t?(a+=5,a+=.02*(t-=100),t=0):a+=.05*t,t=0,100<e)var n=a-.02;else n=a-.05;var l=Math.round(100*a),r=Math.round(100*n),o=(a/n*100-100).toPrecision(3);return eff10.textContent="Effect: "+Math.round(l)+"%",1<e?(lasteff10.textContent="Last level's Effect: "+Math.round(r)+"%",rel10.textContent="Relative increase from last level: "+o+"%"):(lasteff10.textContent="Last level's Effect: N/A",rel10.textContent="Relative increase from last level: N/A"),a+1}();totalpowerdisplay.textContent="Total Power: "+e.toPrecision(3)}function u(e,t){if(t=parseInt(t),1==e){if(1==t)return 30;if(2==t)return 65;if(3==t)return 100;if(4==t)return 140;if(5==t)return 185;if(6==t)return 230;if(7==t)return 280;if(8==t)return 330;if(9==t)return 385;if(10==t)return 460;if(11==t)return 535;if(12==t)return 610;if(13==t)return 690;if(14==t)return 770;if(15==t)return 850;if(16==t)return 935;if(17==t)return 1030;if(18==t)return 1130;if(19<=t&&t<=96)var a="tier1";if(97<=t&&t<=142)a="tier2";if(143<=t&&t<=218)a="tier3";if(219<=t&&t<=580)a="tier4";if(581<=t&&t<=924)a="tier5";if(925<=t&&t<=4057)a="tier6";if(4058<=t&&t<=16639)a="tier7";if(16640<=t)a="tier8";return 5*Math.round(Math.round(n[a].bonus*t*(7+t)+n[a].base)/5)}if(2==e){if(t<=47)a="tier1";if(48<=t&&t<=77)a="tier2";if(78<=t&&t<=130)a="tier3";if(131<=t&&t<=381)a="tier4";if(382<=t&&t<=619)a="tier5";if(620<=t&&t<=2721)a="tier6";if(2722<=t&&t<=10891)a="tier7";if(10892<=t)a="tier8";return 5*Math.round(Math.round(l[a].bonus*t*(59+t)+l[a].base)/5)}if(3==e){if(t<=13)a="tier1";if(14<=t&&t<=27)a="tier2";if(28<=t&&t<=58)a="tier3";if(59<=t&&t<=260)a="tier4";if(261<=t&&t<=476)a="tier5";if(477<=t&&t<=2465)a="tier6";if(2466<=t&&t<=10250)a="tier7";if(10251<=t)a="tier8";return 5*Math.round(Math.round(r[a].bonus*t*(326.27272728+t)+r[a].base)/5)}}tab1button.addEventListener("click",function(){tab1.style.visibility="visible",tab2.style.visibility="hidden",tab3.style.visibility="hidden",tab4.style.visibility="hidden"}),tab2button.addEventListener("click",function(){tab1.style.visibility="hidden",tab2.style.visibility="visible",tab3.style.visibility="hidden",tab4.style.visibility="hidden"}),tab3button.addEventListener("click",function(){tab1.style.visibility="hidden",tab2.style.visibility="hidden",tab3.style.visibility="visible",tab4.style.visibility="hidden"}),tab4button.addEventListener("click",function(){tab1.style.visibility="hidden",tab2.style.visibility="hidden",tab3.style.visibility="hidden",tab4.style.visibility="visible"}),setInterval(function(){var e,t,a;i=1==numberscheck.checked,s(),function(){if(""==!powerinput.value){var e=1+(1.585+.001117*topfloorinput.value)/100,t=5*Math.round(Math.log(powerinput.value)/Math.log(e)*.98/5),a=5*Math.round(Math.log(powerinput.value)/Math.log(e)*1.02/5);floorestimateoutput.textContent=t+" - "+a}}(),function(){if(""==!goldboxinput.value){for(var e=goldboxinput.value,t=10,a=1,n=!0;t<=e;)n?(a+=1,t*=5,n=!1):(a+=1,t*=2,n=!0);var l=Math.pow(4,a-1)*Math.pow(e,2)+Math.pow(4,a)*e;1==i&&1==numberscheck.checked?goldboxoutput.textContent=f(l)+" gold on new dungeon":goldboxoutput.textContent=l+" gold on new dungeon"}}(),1==i?(""==!claymoreInput.value&&(claymoreeff.textContent="Effect: "+f(u(1,claymoreInput.value))+"%",1<claymoreInput.value?(claymorerel.textContent="Relative increase from last level: "+(u(1,claymoreInput.value)/u(1,claymoreInput.value-1)*100-100).toPrecision(3)+"%",claymoreinc.textContent="Last level's effect: "+f(u(1,claymoreInput.value-1))+"%"):(claymorerel.textContent="Relative increase from last level: N/A",claymoreinc.textContent="Last level's effect: N/A")),""==!flambergeInput.value&&(flambergeeff.textContent="Effect: "+f(u(2,flambergeInput.value))+"%",1<flambergeInput.value?(flambergerel.textContent="Relative increase from last level: "+(u(2,flambergeInput.value)/u(2,flambergeInput.value-1)*100-100).toPrecision(3)+"%",flambergeinc.textContent="Last level's effect: "+f(u(2,flambergeInput.value-1))+"%"):(tomahawkrel.textContent="Relative increase from last level: N/A",tomahawkinc.textContent="Last level's effect: N/A")),""==!tomahawkInput.value&&(tomahawkeff.textContent="Effect: "+f(u(3,tomahawkInput.value))+"%",1<tomahawkInput.value?(tomahawkrel.textContent="Relative increase from last level: "+(u(3,tomahawkInput.value)/u(3,tomahawkInput.value-1)*100-100).toPrecision(3)+"%",tomahawkinc.textContent="Last level's effect: "+f(u(3,tomahawkInput.value-1))+"%"):(tomahawkrel.textContent="Relative increase from last level: N/A",tomahawkinc.textContent="Last level's effect: N/A"))):(""==!claymoreInput&&(claymoreeff.textContent="Effect: "+u(1,claymoreInput.value)+"%",1<claymoreInput.value?(claymorerel.textContent="Relative increase from last level: "+(u(1,claymoreInput.value)/u(1,claymoreInput.value-1)*100-100).toPrecision(3)+"%",claymoreinc.textContent="Last level's effect: "+u(1,claymoreInput.value-1)+"%"):(claymorerel.textContent="Relative increase from last level: N/A",claymoreinc.textContent="Last level's effect: N/A")),""==!flambergeInput&&(flambergeeff.textContent="Effect: "+u(2,flambergeInput.value)+"%",1<flambergeInput.value?(flambergerel.textContent="Relative increase from last level: "+(u(2,flambergeInput.value)/u(2,flambergeInput.value-1)*100-100).toPrecision(3)+"%",flambergeinc.textContent="Last level's effect: "+u(2,flambergeInput.value-1)+"%"):(flambergerel.textContent="Relative increase from last level: N/A",flambergeinc.textContent="Last level's effect: N/A")),""==!tomahawkInput&&(tomahawkeff.textContent="Effect: "+u(3,tomahawkInput.value)+"%",1<tomahawkInput.value?(tomahawkrel.textContent="Relative increase from last level: "+(u(3,tomahawkInput.value)/u(3,tomahawkInput.value-1)*100-100).toPrecision(3)+"%",tomahawkinc.textContent="Last level's effect: "+u(3,tomahawkInput.value-1)+"%"):(tomahawkrel.textContent="Relative increase from last level: N/A",tomahawkinc.textContent="Last level's effect: N/A"))),e=u(1,parseInt(claymoreInput.value)+parseInt(claymoreGainInput.value))-u(1,claymoreInput.value),t=u(2,parseInt(flambergeInput.value)+parseInt(flambergeGainInput.value))-u(2,flambergeInput.value),a=u(3,parseInt(tomahawkInput.value)+parseInt(tomahawkGainInput.value))-u(3,tomahawkInput.value),1==i?(claymoreAfter.textContent=f(e)+"%",flambergeAfter.textContent=f(t)+"%",tomahawkAfter.textContent=f(a)+"%",totalAttackPerRun.textContent=f(e+t+a)+"%"):(claymoreAfter.textContent=e+"%",flambergeAfter.textContent=t+"%",tomahawkAfter.textContent=a+"%",totalAttackPerRun.textContent=e+t+a+"%")},200)});