var exponents=["K","M","B","T","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","ba","bb","bc","bd","be","bf","bg","bh","bi","bj","bk","bl","bm","bn","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","ca","cb","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","cn","co","cp","cq","cr","cs","ct","cu","cv","cw","cx","cy","cz"],claymore={tier1:{bonus:2.5,base:0},tier2:{bonus:2.2,base:3e3},tier3:{bonus:1.804,base:11460},tier4:{bonus:1.37104,base:32709.6},tier5:{bonus:.959728,base:172896.72},tier6:{bonus:.5758368,base:503738.032},tier7:{bonus:.34550208,base:4302242.8192},tier8:{bonus:.207301248,base:42581345.6915}},flamberge={tier1:{bonus:5,base:0},tier2:{bonus:4.4,base:3e3},tier3:{bonus:3.63,base:10725},tier4:{bonus:2.7951,base:31258.25},tier5:{bonus:1.9984965,base:159849.64875},tier6:{bonus:1.259052795,base:470705.278713},tier7:{bonus:.8057937888,base:3901251.62838},tier8:{bonus:.52376596272,base:37535813.5584}},tomahawk={tier1:{bonus:5.5,base:0},tier2:{bonus:4.84,base:3e3},tier3:{bonus:3.993,base:10725},tier4:{bonus:3.07461,base:31258.25},tier5:{bonus:2.19834615,base:159849.64875},tier6:{bonus:1.3849580745,base:470705.278713},tier7:{bonus:.88637316768,base:3901251.62838},tier8:{bonus:.576142558992,base:37535813.5584}},ingamenumbers=!1;function switchtab(e){switch(tab1.style.visibility="hidden",tab2.style.visibility="hidden",tab3.style.visibility="hidden",tab4.style.visibility="hidden",e){case 1:tab1.style.visibility="visible";break;case 2:tab2.style.visibility="visible";break;case 3:tab3.style.visibility="visible";break;case 4:tab4.style.visibility="visible"}}function updateawakening1(){70<input1.value&&(input1.value=70);var e=10*input1.value+input1.value*(input1.value-1),t=e-(2*(input1.value-1)+10);return eff1.textContent="Effect: "+Math.floor(e)+"%",1<input1.value?(lasteff1.textContent="Last level's effect: "+Math.floor(t)+"%",rel1.textContent="Relative increase from last level: "+(100*(e/t-1)).toPrecision(3)+"%"):(lasteff1.textContent="Last level's effect: N/A",rel1.textContent="Relative increase from last level: N/A"),e/100+1}function updateawakening2(){30<input2.value&&(input2.value=30);var e=10*input2.value+input2.value*(input2.value-1),t=e-(2*(input2.value-1)+10);return eff2.textContent="Effect: "+Math.floor(e)+"%",1<input2.value?(lasteff2.textContent="Last level's effect: "+Math.floor(t)+"%",rel2.textContent="Relative increase from last level: "+(100*(e/t-1)).toPrecision(3)+"%"):(lasteff2.textContent="Last level's effect: N/A",rel2.textContent="Relative increase from last level: N/A"),e/100+1}function updatemithrilsword(){45<input3.value&&(input3.value=45);var e=input3.value,t=e,a=1;if(45<=t?a=.35:20<t?(a-=.4,a-=.01*(t-=20)):a-=.02*t,t=0,e<=20)var n=a+.02;else n=a+.01;var l=100-(100*a).toPrecision(3),r=100-(100*n).toPrecision(3),o=(n/a*100-100).toPrecision(3);return eff3.textContent="Effect: -"+Math.round(l)+"%",1<e?(lasteff3.textContent="Last level's Effect: -"+Math.round(r)+"%",rel3.textContent="Relative increase from last level: "+o+"%"):(lasteff3.textContent="Last level's Effect: N/A",rel3.textContent="Relative increase from last level: N/A"),1/a}function updatemistilteinn(){105<input4.value&&(input4.value=105);var e=input4.value,t=e,a=1;if(105<=t?(a=.125,t=0):75<t?(a-=.8,a-=.0025*(t-=75),t=0):45<t?(a-=.65,a-=.005*(t-=45),t=0):20<t?(a-=.4,a-=.01*(t-=20),t=0):t<=20&&(a-=.02*t,t=0),75<e)var n=a+.0025;else if(45<e)n=a+.005;else if(20<e)n=a+.01;else n=a+.02;var l=100-Math.floor(1e4*a)/100,r=100-Math.floor(1e4*n)/100,o=Math.floor(n/a*1e4-1e4)/100;return eff4.textContent="Effect: -"+Math.floor(20*l)/20+"%",1<e?(lasteff4.textContent="Last level's Effect: -"+Math.floor(20*r)/20+"%",rel4.textContent="Relative increase from last level: "+o+"%"):(lasteff4.textContent="Last level's Effect: N/A",rel4.textContent="Relative increase from last level: N/A"),1/a}function updategoldengloves(){var e=input5.value,t=e,a=0;if(200<=t?(a+=3e3,a+=10*(t-=200)):a+=15*t,t=0,200<e)var n=a-10;else n=a-15;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff5.textContent=1==ingamenumbers?"Effect: "+formatNumber(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff5.textContent=1==ingamenumbers?"Last level's Effect: "+formatNumber(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel5.textContent="Relative increase from last level: "+o+"%"):(lasteff5.textContent="Last level's Effect: N/A",rel5.textContent="Relative increase from last level: N/A"),a/100+1}function updategoldvessels(){var e=input6.value,t=e,a=0;if(100<=t?(a+=1e3,a+=5*(t-=100)):a+=10*t,t=0,100<e)var n=a-5;else n=a-10;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff6.textContent=1==ingamenumbers?"Effect: "+formatNumber(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff6.textContent=1==ingamenumbers?"Last level's Effect: "+formatNumber(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel6.textContent="Relative increase from last level: "+o+"%"):(lasteff6.textContent="Last level's Effect: N/A",rel6.textContent="Relative increase from last level: N/A"),a/100+1}function updatephilostone(){var e=input7.value,t=e,a=0;if(500<=t?(a+=5e3,a+=2*(t-=500)):a+=10*t,t=0,500<e)var n=a-2;else n=a-10;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff7.textContent=1==ingamenumbers?"Effect: "+formatNumber(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff7.textContent=1==ingamenumbers?"Last level's Effect: "+formatNumber(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel7.textContent="Relative increase from last level: "+o+"%"):(lasteff7.textContent="Last level's Effect: N/A",rel7.textContent="Relative increase from last level: N/A"),a/100+1}function updatehalberd(){var e=input8.value,t=e,a=0;if(100<=t?(a+=1e3,a+=5*(t-=100)):a+=10*t,t=0,100<e)var n=a-5;else n=a-10;var l=Math.floor(a),r=Math.floor(n),o=(a/n*100-100).toPrecision(3);return eff8.textContent=1==ingamenumbers?"Effect: "+formatNumber(Math.round(l))+"%":"Effect: "+Math.round(l)+"%",1<e?(lasteff8.textContent=1==ingamenumbers?"Last level's Effect: "+formatNumber(Math.round(r))+"%":"Last level's Effect: "+Math.round(r)+"%",rel8.textContent="Relative increase from last level: "+o+"%"):(lasteff8.textContent="Last level's Effect: N/A",rel8.textContent="Relative increase from last level: N/A"),a/100+1}function updatecaduceus(){600<input9.value&&(input9.value=600);var e=input9.value,t=e,a=0;if(600==t?a=28:200<t?(a+=20,a+=.02*(t-=200)):a+=.1*t,t=0,200<e)var n=a-.02;else n=a-.1;var l=Math.round(100*a),r=Math.round(100*n),o=(a/n*100-100).toPrecision(3);return eff9.textContent="Effect: "+Math.round(l)+"%",1<e?(lasteff9.textContent="Last level's Effect: "+Math.round(r)+"%",rel9.textContent="Relative increase from last level: "+o+"%"):(lasteff9.textContent="Last level's Effect: N/A",rel9.textContent="Relative increase from last level: N/A"),a+1}function updatecoatofgold(){300<input10.value&&(input10.value=300);var e=input10.value,t=e,a=0;if(300==t?(a=9,t=0):100<t?(a+=5,a+=.02*(t-=100),t=0):a+=.05*t,t=0,100<e)var n=a-.02;else n=a-.05;var l=Math.round(100*a),r=Math.round(100*n),o=(a/n*100-100).toPrecision(3);return eff10.textContent="Effect: "+Math.round(l)+"%",1<e?(lasteff10.textContent="Last level's Effect: "+Math.round(r)+"%",rel10.textContent="Relative increase from last level: "+o+"%"):(lasteff10.textContent="Last level's Effect: N/A",rel10.textContent="Relative increase from last level: N/A"),a+1}function formatNumber(e){if(1e3<=(e=Number(e))){var t=exponents[Math.floor(Math.log(e)/Math.log(1e3))-1],a=(e/Math.pow(1e3,exponents.indexOf(t)+1)).toFixed(3).toString().replace(".",t);1e6<=e&&(a+=exponents[exponents.indexOf(t)-1])}else a=e;return a}function updatePower(){var e=(baseattackinput.value/100+1)*updateawakening1()*updateawakening2()*updatemithrilsword()*updatemistilteinn()*updategoldvessels()*updatehalberd()*updatephilostone()*updategoldengloves()*updatecaduceus()*updatecoatofgold();totalpowerdisplay.textContent="Total Power: "+e.toPrecision(3)}function updateFloor(){if(""==!powerinput.value){var e=1+(1.585+.001117*topfloorinput.value)/100,t=5*Math.round(Math.log(powerinput.value)/Math.log(e)*.98/5),a=5*Math.round(Math.log(powerinput.value)/Math.log(e)*1.02/5);floorestimateoutput.textContent=t+" - "+a}}function updateGoldBox(){if(""==!goldboxinput.value){for(var e=goldboxinput.value,t=10,a=1,n=!0;t<=e;)n?(a+=1,t*=5,n=!1):(a+=1,t*=2,n=!0);var l=Math.pow(4,a-1)*Math.pow(e,2)+Math.pow(4,a)*e;goldboxoutput.textContent=1==ingamenumbers?formatNumber(l)+" gold on new dungeon":1e21<=l?l.toPrecision(3)+" gold on new dungeon":l+" gold on new dungeon"}else goldboxoutput.textContent="0 gold on new dungeon"}function calcAttack(e,t){if(""!=!t)return 0;switch(t=parseInt(t),e){case 1:if(t<=18)switch(t){case 0:return 0;case 1:return 30;case 2:return 65;case 3:return 100;case 4:return 140;case 5:return 185;case 6:return 230;case 7:return 280;case 8:return 330;case 9:return 385;case 10:return 460;case 11:return 535;case 12:return 610;case 13:return 690;case 14:return 770;case 15:return 850;case 16:return 935;case 17:return 1030;case 18:return 1130}if(19<=t&&t<=96)var a="tier1";if(97<=t&&t<=142)a="tier2";if(143<=t&&t<=218)a="tier3";if(219<=t&&t<=580)a="tier4";if(581<=t&&t<=924)a="tier5";if(925<=t&&t<=4057)a="tier6";if(4058<=t&&t<=16639)a="tier7";if(16640<=t)a="tier8";return 5*Math.round(Math.round(claymore[a].bonus*t*(7+t)+claymore[a].base)/5);case 2:if(t<=47)a="tier1";if(48<=t&&t<=77)a="tier2";if(78<=t&&t<=130)a="tier3";if(131<=t&&t<=381)a="tier4";if(382<=t&&t<=619)a="tier5";if(620<=t&&t<=2721)a="tier6";if(2722<=t&&t<=10891)a="tier7";if(10892<=t)a="tier8";return 5*Math.round(Math.round(flamberge[a].bonus*t*(59+t)+flamberge[a].base)/5);case 3:if(t<=13)a="tier1";if(14<=t&&t<=27)a="tier2";if(28<=t&&t<=58)a="tier3";if(59<=t&&t<=260)a="tier4";if(261<=t&&t<=476)a="tier5";if(477<=t&&t<=2465)a="tier6";if(2466<=t&&t<=10250)a="tier7";if(10251<=t)a="tier8";return 5*Math.round(Math.round(tomahawk[a].bonus*t*(326.27272728+t)+tomahawk[a].base)/5)}}function updateRunAttack(){var e,t,a,n=parseInt(claymoreInput.value)+parseInt(claymoreGainInput.value),l=parseInt(flambergeInput.value)+parseInt(flambergeGainInput.value),r=parseInt(tomahawkInput.value)+parseInt(tomahawkGainInput.value);e=""==claymoreGainInput.value?0:calcAttack(1,n)-calcAttack(1,claymoreInput.value),t=""==flambergeGainInput.value?0:calcAttack(2,l)-calcAttack(2,flambergeInput.value),a=""==tomahawkGainInput.value?0:calcAttack(3,r)-calcAttack(3,tomahawkInput.value),1==ingamenumbers?(claymoreAfter.textContent=formatNumber(e)+"%",flambergeAfter.textContent=formatNumber(t)+"%",tomahawkAfter.textContent=formatNumber(a)+"%",totalAttackPerRun.textContent=formatNumber(e+t+a)+"%"):(claymoreAfter.textContent=e+"%",flambergeAfter.textContent=t+"%",tomahawkAfter.textContent=a+"%",totalAttackPerRun.textContent=e+t+a+"%")}function updateAttacks(){""==claymoreInput.value&&(claymoreInput.value=0),""==claymoreGainInput.value&&(claymoreGainInput.value=0),""==flambergeInput.value&&(flambergeInput.value=0),""==flambergeGainInput.value&&(flambergeGainInput.value=0),""==tomahawkInput.value&&(tomahawkInput.value=0),""==tomahawkGainInput.value&&(tomahawkGainInput.value=0),1==ingamenumbers?(1<claymoreInput.value?(claymoreeff.textContent="Effect: "+formatNumber(calcAttack(1,claymoreInput.value))+"%",claymorerel.textContent="Relative increase from last level: "+(calcAttack(1,claymoreInput.value)/calcAttack(1,claymoreInput.value-1)*100-100).toPrecision(3)+"%",claymoreinc.textContent="Last level's effect: "+formatNumber(calcAttack(1,claymoreInput.value-1))+"%"):(claymoreeff.textContent="Effect: 30%",claymorerel.textContent="Relative increase from last level: N/A",claymoreinc.textContent="Last level's effect: N/A"),1<flambergeInput.value?(flambergeeff.textContent="Effect: "+formatNumber(calcAttack(2,flambergeInput.value))+"%",flambergerel.textContent="Relative increase from last level: "+(calcAttack(2,flambergeInput.value)/calcAttack(2,flambergeInput.value-1)*100-100).toPrecision(3)+"%",flambergeinc.textContent="Last level's effect: "+formatNumber(calcAttack(2,flambergeInput.value-1))+"%"):(flambergeeff.textContent="Effect: 300%",flambergerel.textContent="Relative increase from last level: N/A",flambergeinc.textContent="Last level's effect: N/A"),1<tomahawkInput.value?(tomahawkeff.textContent="Effect: "+formatNumber(calcAttack(3,tomahawkInput.value))+"%",tomahawkrel.textContent="Relative increase from last level: "+(calcAttack(3,tomahawkInput.value)/calcAttack(3,tomahawkInput.value-1)*100-100).toPrecision(3)+"%",tomahawkinc.textContent="Last level's effect: "+formatNumber(calcAttack(3,tomahawkInput.value-1))+"%"):(tomahawkeff.textContent="Effect: 1K800%",tomahawkrel.textContent="Relative increase from last level: N/A",tomahawkinc.textContent="Last level's effect: N/A")):(1<claymoreInput.value?(claymoreeff.textContent="Effect: "+calcAttack(1,claymoreInput.value)+"%",claymorerel.textContent="Relative increase from last level: "+(calcAttack(1,claymoreInput.value)/calcAttack(1,claymoreInput.value-1)*100-100).toPrecision(3)+"%",claymoreinc.textContent="Last level's effect: "+calcAttack(1,claymoreInput.value-1)+"%"):(claymoreeff.textContent="Effect: 30%",claymorerel.textContent="Relative increase from last level: N/A",claymoreinc.textContent="Last level's effect: N/A"),1<flambergeInput.value?(flambergeeff.textContent="Effect: "+calcAttack(2,flambergeInput.value)+"%",flambergerel.textContent="Relative increase from last level: "+(calcAttack(2,flambergeInput.value)/calcAttack(2,flambergeInput.value-1)*100-100).toPrecision(3)+"%",flambergeinc.textContent="Last level's effect: "+calcAttack(2,flambergeInput.value-1)+"%"):(flambergeeff.textContent="Effect: 300%",flambergerel.textContent="Relative increase from last level: N/A",flambergeinc.textContent="Last level's effect: N/A"),1<tomahawkInput.value?(tomahawkeff.textContent="Effect: "+calcAttack(3,tomahawkInput.value)+"%",tomahawkrel.textContent="Relative increase from last level: "+(calcAttack(3,tomahawkInput.value)/calcAttack(3,tomahawkInput.value-1)*100-100).toPrecision(3)+"%",tomahawkinc.textContent="Last level's effect: "+calcAttack(3,tomahawkInput.value-1)+"%"):(tomahawkeff.textContent="Effect: 1800%",tomahawkrel.textContent="Relative increase from last level: N/A",tomahawkinc.textContent="Last level's effect: N/A")),updateRunAttack()}function updateAll(){updatePower(),updateFloor(),updateGoldBox(),updateAttacks()}function toggleFormat(){ingamenumbers=!!numberscheck.checked,updateAll()}ingamenumbers=!!numberscheck.checked,updateAll();